#!/usr/bin/env python3

import argparse
import logging
from yaml import load, Loader

from opustools_pkg.opus_filter import OpusFilter

logging.basicConfig(level=logging.INFO)
logging.getLogger('mosestokenizer.tokenizer.MosesTokenizer').setLevel(logging.WARNING)

parser = argparse.ArgumentParser(prog='opus_filter',
    description='Filter OPUS bitexts')

parser.add_argument('-f', help='yaml configuration file', required=True)
parser.add_argument('--overwrite', '-o', help='overwrite existing output files', action='store_true')

args = parser.parse_args()

configuration = load(open(args.f), Loader=Loader)

of = OpusFilter(configuration)
of.execute_steps(overwrite=args.overwrite)
